{"version":3,"sources":["Components/Error/Error.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Loader/Loader.module.css","Components/Container/Container.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","servises/ImagesAPI/ImagesApi.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/Modal.js","Components/Container/Container.js","images/oops.jpg","Components/Error/Error.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","imageName","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","info","className","s","searchbar","searchForm","this","type","button","label","input","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","image","onClick","webformatURL","id","tags","imageItem","src","alt","galleryItemImage","ImageGallery","images","gallery","map","BASIC_URL","KEY","imageApiService","page","axios","get","then","response","data","hits","catch","error","console","log","Button","buttonClick","wrapper","Spinner","spinner","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdrop","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","Container","container","Error","textError","role","errorImage","img","text","textContent","App","isLoading","showModal","largeImageURL","searchImage","fetchImages","prevState","length","finally","scrollTo","top","documentElement","scrollHeight","behavior","buttonClickOnMore","toggleModal","bigImage","prevProps","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,YAAc,2BAA2B,IAAM,qB,mBCAlGD,EAAOC,QAAU,CAAC,UAAY,oCAAoC,iBAAmB,6C,mBCArFD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,0B,mBCA5DD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,QAAU,gC,mBCA5BD,EAAOC,QAAU,CAAC,QAAU,0B,mBCA5BD,EAAOC,QAAU,CAAC,UAAY,+B,8MCqDfC,E,4MA/CbC,MAAQ,CACNC,UAAW,I,EAGbC,aAAe,SAACC,GACd,EAAKC,SAAS,CAAEH,UAAWE,EAAEE,cAAcC,MAAMC,iB,EAGnDC,aAAe,SAACL,GACdA,EAAEM,iBACkC,KAAhC,EAAKT,MAAMC,UAAUS,QAKzB,EAAKC,MAAMC,SAAS,EAAKZ,MAAMC,WAC/B,EAAKG,SAAS,CAAEH,UAAW,MALzBY,IAAMC,KAAK,qB,4CAQf,WACE,OACE,wBAAQC,UAAWC,IAAEC,UAArB,SACE,uBAAMF,UAAWC,IAAEE,WAAYN,SAAUO,KAAKX,aAA9C,UACE,wBAAQY,KAAK,SAASL,UAAWC,IAAEK,OAAnC,SACE,sBAAMN,UAAWC,IAAEM,MAAnB,sBAGF,uBACEP,UAAWC,IAAEO,MACbC,SAAUL,KAAKjB,aACfkB,KAAK,OACLK,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZrB,MAAOa,KAAKnB,MAAMC,qB,GAnCN2B,a,kCCoBTC,MAvBf,YAA+C,IAAnBC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QACzBC,EAA2BF,EAA3BE,aAAcC,EAAaH,EAAbG,GAAIC,EAASJ,EAATI,KAE1B,OACE,oBAAInB,UAAWC,IAAEmB,UAAjB,SACE,qBACEC,IAAKJ,EACLK,IAAKH,EACLnB,UAAWC,IAAEsB,iBACbP,QAASA,KALoBE,ICctBM,MAjBf,YAA4C,IAApBC,EAAmB,EAAnBA,OAAQT,EAAW,EAAXA,QAC9B,OACE,oBAAIhB,UAAWC,IAAEyB,QAAjB,SACGD,EAAOE,KAAI,SAACZ,GAAD,OACV,cAAC,EAAD,CAAiCA,MAAOA,EAAOC,QAASA,GAAjCD,EAAMG,U,iBCP/BU,EAAY,2BACZC,EAAM,qCAYGC,EATS,SAAC5C,GAAyB,IAAd6C,EAAa,uDAAN,EACzC,OAAOC,IACJC,IADI,UAEAL,EAFA,gBAEiBC,EAFjB,cAE0B3C,EAF1B,sCAHO,GAGP,iBAEiF6C,IAErFG,MAAK,SAACC,GAAD,OAAcA,EAASC,KAAKC,QACjCC,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,O,iBCInBG,MAbf,YAAkC,IAAhBC,EAAe,EAAfA,YAChB,OACE,qBAAK3C,UAAWC,IAAE2C,QAAlB,SACE,wBAAQvC,KAAK,SAASW,QAAS2B,EAAa3C,UAAWC,IAAEK,OAAzD,0B,0CCDeuC,E,4JAEnB,WACE,OACE,qBAAK7C,UAAWC,IAAE6C,QAAlB,SACE,cAAC,IAAD,CAAQzC,KAAK,UAAU0C,MAAM,UAAUC,OAAQ,IAAKC,MAAO,Y,GAL9BpC,a,iBCC/BqC,EAAYC,SAASC,cAAc,cAEpBC,E,4MAWnBC,cAAgB,SAAClE,GACA,WAAXA,EAAEmE,MACJ,EAAK3D,MAAM4D,W,EAGfC,eAAiB,SAACrE,GACZA,EAAEE,gBAAkBF,EAAEsE,QACxB,EAAK9D,MAAM4D,W,uDAjBf,WACEG,OAAOC,iBAAiB,UAAWxD,KAAKkD,eACxCK,OAAOC,iBAAiB,QAASxD,KAAKqD,kB,kCAGxC,WACEE,OAAOE,oBAAoB,UAAWzD,KAAKkD,eAC3CK,OAAOE,oBAAoB,QAASzD,KAAKqD,kB,oBAa3C,WACE,OAAOK,uBACL,qBAAK9D,UAAWC,IAAE8D,QAAS/C,QAASZ,KAAKqD,eAAzC,SACE,qBAAKzD,UAAWC,IAAE+D,MAAlB,SAA0B5D,KAAKR,MAAMqE,aAEvCf,O,GA1B6BrC,a,iBCFpBqD,MAJf,YAAkC,IAAbD,EAAY,EAAZA,SACnB,OAAO,qBAAKjE,UAAWC,IAAEkE,UAAlB,SAA8BF,KCFxB,MAA0B,iC,iBCmB1BG,MAff,YAA+B,IAAdC,EAAa,EAAbA,UACf,OACE,sBAAKC,KAAK,QAAQtE,UAAWC,IAAE2C,QAA/B,UACE,qBAAKvB,IAAKkD,EAAYvE,UAAWC,IAAEuE,IAAKvB,MAAM,MAAM3B,IAAI,WACxD,mBAAGmD,KAAMJ,EAAWrE,UAAWC,IAAEyE,YAAjC,SACGL,QCgHMM,E,4MA5Gb1F,MAAQ,CACNwC,OAAQ,GACRvC,UAAW,GACX6C,KAAM,EACN6C,WAAW,EACXrC,MAAO,KACPsC,WAAW,EACXC,cAAe,GACf3D,KAAM,I,EAWR4D,YAAc,SAAC7F,GACb,EAAKG,SAAS,CACZH,YACA6C,KAAM,EACNN,OAAQ,GACRc,MAAO,Q,EAIXyC,YAAc,WACZ,MAA4B,EAAK/F,MAAzBC,EAAR,EAAQA,UAAW6C,EAAnB,EAAmBA,KAEnB,EAAK1C,SAAS,CAAEuF,WAAW,IAC3B9C,EAAgB5C,EAAW6C,GACxBG,MAAK,SAACT,GAKL,GAJA,EAAKpC,UAAS,SAAC4F,GAAD,MAAgB,CAC5BxD,OAAO,GAAD,mBAAMwD,EAAUxD,QAAhB,YAA2BA,IACjCM,KAAMkD,EAAUlD,KAAO,MAEH,IAAlBN,EAAOyD,QAAgBnD,EAAO,EAChCjC,IAAMyC,MAAM,kDAGd,GAAsB,IAAlBd,EAAOyD,OACT,MAAM,IAAId,EAAM,wCAGnB9B,OAAM,SAACC,GAAD,OACL,EAAKlD,SAAS,CAAEkD,MAAO,wCAExB4C,SAAQ,WACP,EAAK9F,SAAS,CAAEuF,WAAW,IAE3BjB,OAAOyB,SAAS,CACdC,IAAKlC,SAASmC,gBAAgBC,aAC9BC,SAAU,e,EAKlBC,kBAAoB,WAClB,IAAQ1D,EAAS,EAAK9C,MAAd8C,KACR,EAAKiD,cACL,EAAK3F,SAAS,CACZ0C,KAAMA,EAAO,K,EAIjB2D,YAAc,WACZ,EAAKrG,UAAS,kBAAoB,CAChCwF,WADY,EAAGA,e,EAKnBc,SAAW,SAACb,EAAe3D,GACzB,EAAK9B,SAAS,CACZyF,cAAeA,EACf3D,KAAMA,IAER,EAAKuE,e,wDAnEP,SAAmBE,EAAWX,GAC5B,MAA4B7E,KAAKnB,MAAzBC,EAAR,EAAQA,UAAW6C,EAAnB,EAAmBA,KACfkD,EAAU/F,YAAcA,IAC1BkB,KAAKf,SAAS,CAAEuF,WAAW,IAC3BxE,KAAK4E,YAAY9F,EAAW6C,GAC5B3B,KAAKf,SAAS,CAAEuF,WAAW,O,oBAiE/B,WACE,MACExE,KAAKnB,MADCwC,EAAR,EAAQA,OAAQmD,EAAhB,EAAgBA,UAAWC,EAA3B,EAA2BA,UAAWC,EAAtC,EAAsCA,cAAe3D,EAArD,EAAqDA,KAAMoB,EAA3D,EAA2DA,MAE3D,OACE,eAAC,EAAD,WACE,cAAC,EAAD,CAAW1C,SAAUO,KAAK2E,YAAa9F,MAAOmB,KAAKnB,QAElDsD,GAAS,cAAC,EAAD,CAAO8B,UAAW9B,IAE3Bd,EAAOyD,OAAS,IAAM3C,GACrB,cAAC,EAAD,CAAcd,OAAQA,EAAQT,QAASZ,KAAKuF,WAE7Cf,GAAa,cAAC,EAAD,KAEZA,GAAanD,EAAOyD,OAAS,GAC7B,cAAC,EAAD,CAAQvC,YAAavC,KAAKqF,oBAE3BZ,GACC,cAAC,EAAD,CAAOrB,QAASpD,KAAKuF,SAArB,SACE,qBAAKtE,IAAKyD,EAAexD,IAAKH,MAGlC,cAAC,IAAD,CAAgB0E,UAAW,a,GAxGjBhF,aCPlBiF,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF7C,SAAS8C,eAAe,U,kBCR1BnH,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,OAAS,0BAA0B,MAAQ,yBAAyB,MAAQ,yBAAyB,mBAAmB,uC","file":"static/js/main.aa7610c0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Error_wrapper__1LOqH\",\"textContent\":\"Error_textContent__OpUUa\",\"img\":\"Error_img__3y2VB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageItem\":\"ImageGalleryItem_imageItem__1pW8m\",\"galleryItemImage\":\"ImageGalleryItem_galleryItemImage__3t1Aq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1kpf7\",\"wrapper\":\"Button_wrapper__1p4zY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3xmtr\",\"modal\":\"Modal_modal__a6jko\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__2apN4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Loader_spinner__3Gv8v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__CP-wE\"};","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport s from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = {\n    imageName: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({ imageName: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.imageName.trim() === \"\") {\n      toast.info(\"Enter image name\");\n      return;\n    }\n\n    this.props.onSubmit(this.state.imageName);\n    this.setState({ imageName: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.label}>Search</span>\n          </button>\n\n          <input\n            className={s.input}\n            onChange={this.handleChange}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.imageName}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  state: PropTypes.object.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({ image, onClick }) {\n  const { webformatURL, id, tags } = image;\n\n  return (\n    <li className={s.imageItem} key={id}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.galleryItemImage}\n        onClick={onClick}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n  }),\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from \"prop-types\";\nimport s from \"../ImageGallery/ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nfunction ImageGallery({ images, onClick }) {\n  return (\n    <ul className={s.gallery}>\n      {images.map((image) => (\n        <ImageGalleryItem key={image.id} image={image} onClick={onClick} />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    })\n  ),\n};\nexport default ImageGallery;\n","import axios from \"axios\";\nconst BASIC_URL = \"https://pixabay.com/api/\";\nconst KEY = \"23098776-3f405a43ba996034d96fd1d68\";\nconst PERPAGE = 12;\n\nconst imageApiService = (imageName, page = 1) => {\n  return axios\n    .get(\n      `${BASIC_URL}?key=${KEY}&q=${imageName}&image_type=photo&per_page=${PERPAGE}&page=${page}`\n    )\n    .then((response) => response.data.hits)\n    .catch((error) => console.log(error));\n};\n\nexport default imageApiService;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\nfunction Button({ buttonClick }) {\n  return (\n    <div className={s.wrapper}>\n      <button type=\"button\" onClick={buttonClick} className={s.button}>\n        Load more\n      </button>\n    </div>\n  );\n}\n\nButton.propTypes = {\n  buttonClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import Loader from \"react-loader-spinner\";\nimport { Component } from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from \"./Loader.module.css\";\nexport default class Spinner extends Component {\n  //other logic\n  render() {\n    return (\n      <div className={s.spinner}>\n        <Loader type=\"Circles\" color=\"#59067a\" height={100} width={100} />\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#rootModal\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n    window.addEventListener(\"click\", this.handleBackdrop);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n    window.removeEventListener(\"click\", this.handleBackdrop);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n  handleBackdrop = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleBackdrop}>\n        <div className={s.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import s from \"./Container.module.css\";\nfunction Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\nexport default Container;\n","export default __webpack_public_path__ + \"static/media/oops.1afb9e96.jpg\";","import PropTypes from \"prop-types\";\nimport errorImage from \"../../images/oops.jpg\";\nimport s from \"./Error.module.css\";\n\nfunction Error({ textError }) {\n  return (\n    <div role=\"alert\" className={s.wrapper}>\n      <img src={errorImage} className={s.img} width=\"550\" alt=\"no_res\" />\n      <p text={textError} className={s.textContent}>\n        {textError}\n      </p>\n    </div>\n  );\n}\n\nError.propTypes = {\n  textError: PropTypes.string.isRequired,\n};\n\nexport default Error;\n","import { ToastContainer, toast } from \"react-toastify\";\nimport \"./App.css\";\nimport Searchbar from \"./Components/Searchbar\";\nimport { Component } from \"react\";\nimport ImageGallery from \"./Components/ImageGallery\";\nimport imageApiService from \"./servises/ImagesAPI/ImagesApi\";\nimport Button from \"./Components/Button/Button\";\nimport Spinner from \"./Components/Loader/Loader\";\nimport Modal from \"./Components/Modal\";\nimport Container from \"./Components/Container/Container\";\nimport Error from \"./Components/Error/Error\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    imageName: \"\",\n    page: 1,\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImageURL: \"\",\n    tags: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { imageName, page } = this.state;\n    if (prevState.imageName !== imageName) {\n      this.setState({ isLoading: true });\n      this.fetchImages(imageName, page);\n      this.setState({ isLoading: false });\n    }\n  }\n  searchImage = (imageName) => {\n    this.setState({\n      imageName,\n      page: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { imageName, page } = this.state;\n\n    this.setState({ isLoading: true });\n    imageApiService(imageName, page)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }));\n        if (images.length === 0 && page > 1) {\n          toast.error(\"There are no more images in this category\");\n          return;\n        }\n        if (images.length === 0) {\n          throw new Error(\"No matches were found! Try again!\");\n        }\n      })\n      .catch((error) =>\n        this.setState({ error: \"Something went wrong. Try again.\" })\n      )\n      .finally(() => {\n        this.setState({ isLoading: false });\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      });\n  };\n\n  buttonClickOnMore = () => {\n    const { page } = this.state;\n    this.fetchImages();\n    this.setState({\n      page: page + 1,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  bigImage = (largeImageURL, tags) => {\n    this.setState({\n      largeImageURL: largeImageURL,\n      tags: tags,\n    });\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, isLoading, showModal, largeImageURL, tags, error } =\n      this.state;\n    return (\n      <Container>\n        <Searchbar onSubmit={this.searchImage} state={this.state} />\n\n        {error && <Error textError={error} />}\n\n        {images.length > 0 && !error && (\n          <ImageGallery images={images} onClick={this.bigImage} />\n        )}\n        {isLoading && <Spinner />}\n\n        {!isLoading && images.length > 0 && (\n          <Button buttonClick={this.buttonClickOnMore} />\n        )}\n        {showModal && (\n          <Modal onClose={this.bigImage}>\n            <img src={largeImageURL} alt={tags} />\n          </Modal>\n        )}\n        <ToastContainer autoClose={3000} />\n      </Container>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__21A6G\",\"searchForm\":\"Searchbar_searchForm__3bEFQ\",\"button\":\"Searchbar_button__1ZaZK\",\"label\":\"Searchbar_label__2SwTC\",\"input\":\"Searchbar_input__1SBLO\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1m8eH\"};"],"sourceRoot":""}