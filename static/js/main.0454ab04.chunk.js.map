{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Container/Container.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","servises/ImagesAPI/ImagesApi.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/Modal.js","Components/Container/Container.js","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","imageName","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","info","className","s","searchbar","searchForm","this","type","button","label","input","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","image","onClick","webformatURL","id","tags","imageItem","src","alt","galleryItemImage","ImageGallery","images","gallery","map","BASIC_URL","KEY","imageApiService","page","axios","get","then","response","data","hits","Button","buttonClick","wrapper","Spinner","color","height","width","style","margin","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdrop","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","Container","container","App","isLoading","error","showModal","largeImageURL","searchImage","fetchImages","prevState","catch","finally","loading","scrollTo","top","documentElement","scrollHeight","behavior","buttonClickOnMore","toggleModal","bigImage","prevProps","length","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0454ab04.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageItem\":\"ImageGalleryItem_imageItem__1pW8m\",\"galleryItemImage\":\"ImageGalleryItem_galleryItemImage__3t1Aq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1kpf7\",\"wrapper\":\"Button_wrapper__1p4zY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3xmtr\",\"modal\":\"Modal_modal__a6jko\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__2apN4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__CP-wE\"};","import { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport s from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = {\n    imageName: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({ imageName: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.imageName.trim() === \"\") {\n      toast.info(\"Enter image name\");\n      return;\n    }\n\n    this.props.onSubmit(this.state.imageName);\n    this.setState({ imageName: \"\" });\n    // this.resetForm();\n  };\n\n  //   resetForm = () => {\n  //     this.setState({ imageName: \"\" });\n  //   };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.label}>Search</span>\n          </button>\n\n          <input\n            className={s.input}\n            onChange={this.handleChange}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.imageName}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  state: PropTypes.object.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({ image, onClick }) {\n  const { webformatURL, id, tags } = image;\n\n  return (\n    <li className={s.imageItem} key={id}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.galleryItemImage}\n        onClick={onClick}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n  }),\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from \"prop-types\";\nimport s from \"../ImageGallery/ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nfunction ImageGallery({ images, onClick }) {\n  return (\n    <ul className={s.gallery}>\n      {images.map((image) => (\n        <ImageGalleryItem key={image.id} image={image} onClick={onClick} />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    })\n  ),\n};\nexport default ImageGallery;\n","import axios from \"axios\";\nconst BASIC_URL = \"https://pixabay.com/api/\";\nconst KEY = \"23098776-3f405a43ba996034d96fd1d68\";\nconst PERPAGE = 12;\n\nconst imageApiService = (imageName, page = 1) => {\n  return axios\n    .get(\n      `${BASIC_URL}?key=${KEY}&q=${imageName}&image_type=photo&per_page=${PERPAGE}&page=${page}`\n    )\n    .then((response) => response.data.hits);\n};\n\nexport default imageApiService;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\nfunction Button({ buttonClick }) {\n  return (\n    <div className={s.wrapper}>\n      <button type=\"button\" onClick={buttonClick} className={s.button}>\n        Load more\n      </button>\n    </div>\n  );\n}\n\nButton.propTypes = {\n  buttonClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import Loader from \"react-loader-spinner\";\nimport { Component } from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nexport default class Spinner extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"Oval\"\n        color=\"#59067a\"\n        height={100}\n        width={100}\n        style={{ margin: \"auto\" }}\n      />\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#rootModal\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n    window.addEventListener(\"click\", this.handleBackdrop);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n    window.removeEventListener(\"click\", this.handleBackdrop);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n  handleBackdrop = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleBackdrop}>\n        <div className={s.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import s from \"./Container.module.css\";\nfunction Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\nexport default Container;\n","import { ToastContainer } from \"react-toastify\";\nimport \"./App.css\";\nimport Searchbar from \"./Components/Searchbar\";\nimport { Component } from \"react\";\nimport ImageGallery from \"./Components/ImageGallery\";\nimport imageApiService from \"./servises/ImagesAPI/ImagesApi\";\nimport Button from \"./Components/Button/Button\";\nimport Spinner from \"./Components/Loader/Loader\";\nimport Modal from \"./Components/Modal\";\nimport Container from \"./Components/Container/Container\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    imageName: \"\",\n    page: 1,\n    isLoading: false,\n    error: false,\n    showModal: false,\n    largeImageURL: null,\n    tags: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { imageName, page } = this.state;\n    if (prevState.imageName !== imageName) {\n      this.setState({ isLoading: true });\n      this.fetchImages(imageName, page);\n      this.setState({ isLoading: false });\n    }\n  }\n  searchImage = (imageName) => {\n    this.setState({\n      imageName,\n      page: 1,\n      images: [],\n    });\n  };\n\n  fetchImages = () => {\n    const { imageName, page } = this.state;\n    this.setState({ isLoading: true });\n    imageApiService(imageName, page)\n      .then((images) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }))\n      )\n      .catch((error) => this.setState({ error: true }))\n      .finally(() => {\n        this.setState({ loading: false });\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      });\n  };\n\n  buttonClickOnMore = () => {\n    const { page } = this.state;\n    this.fetchImages();\n    this.setState({\n      page: page + 1,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  \n  bigImage = (largeImageURL, tags) => {\n    this.setState({\n      largeImageURL: largeImageURL,\n      tags: tags,\n    });\n    this.toggleModal();\n  };\n  render() {\n    const { images, isLoading, showModal, largeImageURL, tags } = this.state;\n    return (\n      <Container>\n        <Searchbar onSubmit={this.searchImage} state={this.state} />\n        {isLoading && <Spinner />}\n        <ImageGallery images={images} onClick={this.bigImage} />\n        {showModal && (\n          <Modal onClose={this.bigImage}>\n            <img src={largeImageURL} alt={tags} />\n          </Modal>\n        )}\n        {images.length > 0 && <Button buttonClick={this.buttonClickOnMore} />}\n        <ToastContainer autoClose={3000} />\n      </Container>\n    );\n  }\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__21A6G\",\"searchForm\":\"Searchbar_searchForm__3bEFQ\",\"button\":\"Searchbar_button__1ZaZK\",\"label\":\"Searchbar_label__2SwTC\",\"input\":\"Searchbar_input__1SBLO\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1m8eH\"};"],"sourceRoot":""}